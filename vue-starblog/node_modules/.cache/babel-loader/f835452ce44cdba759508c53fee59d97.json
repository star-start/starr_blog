{"remainingRequest":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\babel-loader\\lib\\index.js!F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\main.js","dependencies":[{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\main.js","mtime":1672399210824},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672420947809},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\babel-loader\\lib\\index.js","mtime":1672420951357}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJGOlxcU3ByaW5nIEJvb3RcXFNUQVItQkxPR1xcdnVlLXN0YXJibG9nXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJGOlxcU3ByaW5nIEJvb3RcXFNUQVItQkxPR1xcdnVlLXN0YXJibG9nXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuanMiOwppbXBvcnQgIkY6XFxTcHJpbmcgQm9vdFxcU1RBUi1CTE9HXFx2dWUtc3RhcmJsb2dcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiRjpcXFNwcmluZyBCb290XFxTVEFSLUJMT0dcXHZ1ZS1zdGFyYmxvZ1xcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmZpbmFsbHkuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBBcHAgZnJvbSAnLi9BcHAudnVlJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vc3RvcmUnOwppbXBvcnQgJ2ZvbnQtYXdlc29tZS9jc3MvZm9udC1hd2Vzb21lLm1pbi5jc3MnOwppbXBvcnQgRWxlbWVudFVJIGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgJ2VsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2luZGV4LmNzcyc7ClZ1ZS51c2UoRWxlbWVudFVJLCB7CiAgc2l6ZTogJ3NtYWxsJwp9KTsKaW1wb3J0IFZlSGlzdG9ncmFtIGZyb20gJ3YtY2hhcnRzL2xpYi9oaXN0b2dyYW0uY29tbW9uJzsKVnVlLmNvbXBvbmVudChWZUhpc3RvZ3JhbS5uYW1lLCBWZUhpc3RvZ3JhbSk7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBpZiAodG8ubmFtZSA9PSAnTG9naW4nKSB7CiAgICBuZXh0KCk7CiAgICByZXR1cm47CiAgfQoKICB2YXIgdXNlcm5hbWUgPSBzdG9yZS5zdGF0ZS51c2VyLnVzZXJuYW1lOwogIHZhciB1c2VyUm9sZXMgPSBzdG9yZS5zdGF0ZS51c2VyLnJvbGVzLm1hcChmdW5jdGlvbiAocm9sZSkgewogICAgcmV0dXJuIHJvbGUucm9sZU5hbWU7CiAgfSk7CgogIGlmICh1c2VybmFtZSA9PSAnTm90TG9naW4nKSB7CiAgICBpZiAodG8ubmFtZSA9PSBudWxsKSB7CiAgICAgIFZ1ZS5wcm90b3R5cGUuJG1lc3NhZ2UuZXJyb3IoJ+iuv+mXruWcsOWdgOacieivr+WZou+8gScpOwogICAgICBuZXh0KGZyb20ucGF0aCk7CiAgICB9IGVsc2UgaWYgKHRvLm1ldGEucmVxdWlyZUF1dGgpIHsKICAgICAgVnVlLnByb3RvdHlwZS4kbWVzc2FnZS5lcnJvcign5bCa5pyq55m75b2V77yM6ZyA55m75b2V5ZOmficpOwogICAgICBuZXh0KHsKICAgICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgcmVkaXJlY3Q6IHRvLnBhdGgKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSB7CiAgICB2YXIgaXNBbGxvd2VkID0gdG8ubWV0YS5yb2xlcyA9PSBudWxsID8gdHJ1ZSA6IHRvLm1ldGEucm9sZXMuZmlsdGVyKGZ1bmN0aW9uIChyb2xlKSB7CiAgICAgIHJldHVybiB1c2VyUm9sZXMuaW5kZXhPZihyb2xlKSAhPSAtMTsKICAgIH0pLmxlbmd0aCA+IDA7CgogICAgaWYgKHRvLm5hbWUgPT0gbnVsbCkgewogICAgICBWdWUucHJvdG90eXBlLiRtZXNzYWdlLmVycm9yKCforr/pl67lnLDlnYDmnInor6/lmaLvvIEnKTsKICAgICAgbmV4dChmcm9tLnBhdGgpOwogICAgfSBlbHNlIGlmICghaXNBbGxvd2VkKSB7CiAgICAgIFZ1ZS5wcm90b3R5cGUuJG1lc3NhZ2UuZXJyb3IoJ+aXoOiuv+mXruadg+mZkOWRgO+8gScpOwogICAgICBuZXh0KGZhbHNlKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9Cn0pOwpWdWUuY29uZmlnLnByb2R1Y3Rpb25UaXAgPSBmYWxzZTsKbmV3IFZ1ZSh7CiAgc3RvcmU6IHN0b3JlLAogIHJvdXRlcjogcm91dGVyLAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHJldHVybiBoKEFwcCk7CiAgfQp9KS4kbW91bnQoJyNhcHAnKTs="},{"version":3,"sources":["F:/Spring Boot/STAR-BLOG/vue-starblog/src/main.js"],"names":["Vue","App","store","ElementUI","use","size","VeHistogram","component","name","router","beforeEach","to","from","next","username","state","user","userRoles","roles","map","role","roleName","prototype","$message","error","path","meta","requireAuth","query","redirect","isAllowed","filter","indexOf","length","config","productionTip","render","h","$mount"],"mappings":";;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAO,uCAAP;AAEA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,sCAAP;AACAH,GAAG,CAACI,GAAJ,CAAQD,SAAR,EAAmB;AACjBE,EAAAA,IAAI,EAAE;AADW,CAAnB;AAIA,OAAOC,WAAP,MAAwB,+BAAxB;AACAN,GAAG,CAACO,SAAJ,CAAcD,WAAW,CAACE,IAA1B,EAAgCF,WAAhC;AAEA,OAAOG,MAAP,MAAmB,UAAnB;AACAA,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAChC,MAAIF,EAAE,CAACH,IAAH,IAAW,OAAf,EAAwB;AACtBK,IAAAA,IAAI;AACJ;AACD;;AACD,MAAIC,QAAQ,GAAGZ,KAAK,CAACa,KAAN,CAAYC,IAAZ,CAAiBF,QAAhC;AACA,MAAIG,SAAS,GAAGf,KAAK,CAACa,KAAN,CAAYC,IAAZ,CAAiBE,KAAjB,CAAuBC,GAAvB,CAA2B,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACC,QAAT;AAAA,GAA/B,CAAhB;;AACA,MAAIP,QAAQ,IAAI,UAAhB,EAA4B;AAC1B,QAAIH,EAAE,CAACH,IAAH,IAAW,IAAf,EAAqB;AACnBR,MAAAA,GAAG,CAACsB,SAAJ,CAAcC,QAAd,CAAuBC,KAAvB,CAA6B,UAA7B;AACAX,MAAAA,IAAI,CAACD,IAAI,CAACa,IAAN,CAAJ;AACD,KAHD,MAGO,IAAKd,EAAE,CAACe,IAAH,CAAQC,WAAb,EAA0B;AAC/B3B,MAAAA,GAAG,CAACsB,SAAJ,CAAcC,QAAd,CAAuBC,KAAvB,CAA6B,YAA7B;AACAX,MAAAA,IAAI,CAAC;AAAEY,QAAAA,IAAI,EAAE,QAAR;AAAkBG,QAAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAElB,EAAE,CAACc;AAAf;AAAzB,OAAD,CAAJ;AACD,KAHM,MAGA;AACLZ,MAAAA,IAAI;AACL;AACF,GAVD,MAUO;AACL,QAAIiB,SAAS,GAAGnB,EAAE,CAACe,IAAH,CAAQR,KAAR,IAAiB,IAAjB,GAAwB,IAAxB,GAA+BP,EAAE,CAACe,IAAH,CAAQR,KAAR,CAAca,MAAd,CAAqB,UAAAX,IAAI;AAAA,aAAIH,SAAS,CAACe,OAAV,CAAkBZ,IAAlB,KAA2B,CAAC,CAAhC;AAAA,KAAzB,EAA4Da,MAA5D,GAAqE,CAApH;;AACA,QAAItB,EAAE,CAACH,IAAH,IAAW,IAAf,EAAqB;AACnBR,MAAAA,GAAG,CAACsB,SAAJ,CAAcC,QAAd,CAAuBC,KAAvB,CAA6B,UAA7B;AACAX,MAAAA,IAAI,CAACD,IAAI,CAACa,IAAN,CAAJ;AACD,KAHD,MAGO,IAAI,CAACK,SAAL,EAAgB;AACrB9B,MAAAA,GAAG,CAACsB,SAAJ,CAAcC,QAAd,CAAuBC,KAAvB,CAA6B,SAA7B;AACAX,MAAAA,IAAI,CAAC,KAAD,CAAJ;AACD,KAHM,MAGA;AACLA,MAAAA,IAAI;AACL;AAEF;AACF,CA9BL;AAiCAb,GAAG,CAACkC,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEA,IAAInC,GAAJ,CAAQ;AACNE,EAAAA,KAAK,EAALA,KADM;AAENO,EAAAA,MAAM,EAANA,MAFM;AAGN2B,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAACpC,GAAD,CAAL;AAAA;AAHH,CAAR,EAIGqC,MAJH,CAIU,MAJV","sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport store from './store';\r\nimport 'font-awesome/css/font-awesome.min.css'\r\n\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nVue.use(ElementUI, {\r\n  size: 'small'\r\n});\r\n\r\nimport VeHistogram from 'v-charts/lib/histogram.common';\r\nVue.component(VeHistogram.name, VeHistogram);\r\n\r\nimport router from './router';\r\nrouter.beforeEach((to, from, next) => {\r\n      if (to.name == 'Login') {\r\n        next();\r\n        return;\r\n      }\r\n      var username = store.state.user.username;\r\n      var userRoles = store.state.user.roles.map(role => role.roleName);\r\n      if (username == 'NotLogin') {\r\n        if (to.name == null) {\r\n          Vue.prototype.$message.error('访问地址有误噢！');\r\n          next(from.path);\r\n        } else if ( to.meta.requireAuth) {\r\n          Vue.prototype.$message.error('尚未登录，需登录哦~');\r\n          next({ path: '/login', query: { redirect: to.path } });\r\n        } else {\r\n          next();\r\n        }\r\n      } else {\r\n        var isAllowed = to.meta.roles == null ? true : to.meta.roles.filter(role => userRoles.indexOf(role) != -1).length > 0;\r\n        if (to.name == null) {\r\n          Vue.prototype.$message.error('访问地址有误噢！');\r\n          next(from.path);\r\n        } else if (!isAllowed) {\r\n          Vue.prototype.$message.error('无访问权限呀！');\r\n          next(false);\r\n        } else {\r\n          next();\r\n        }\r\n\r\n      }\r\n    }\r\n);\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  store,\r\n  router,\r\n  render: h => h(App),\r\n}).$mount('#app');\r\n"]}]}