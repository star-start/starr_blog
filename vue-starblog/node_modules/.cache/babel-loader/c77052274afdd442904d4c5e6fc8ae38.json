{"remainingRequest":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\babel-loader\\lib\\index.js!F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\axios\\index.js","dependencies":[{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\axios\\index.js","mtime":1672403863474},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672420947809},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\babel-loader\\lib\\index.js","mtime":1672420951357}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOyAvL+ivt+axguaLpuaIqgoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChyZXEpIHsKICByZXR1cm4gcmVxOwp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgTWVzc2FnZS5lcnJvcih7CiAgICBtZXNzYWdlOiAn6K+35rGC6LaF5pe2IScKICB9KTsKfSk7IC8v5ZON5bqU5oum5oiqCgpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwKSB7CiAgLy/pnZ5nZXTor7fmsYLov5Tlm57nmoRSZXBNc2fph4wKICAvLyBkYXRhLnN0YXR1c+S4umVycm9y55u05o6l5omT5pat77yMc3VjY2Vzc+e7p+e7reS8oOmAkiByZXNwCiAgaWYgKHJlc3Auc3RhdHVzICYmIHJlc3Auc3RhdHVzID09IDIwMCAmJiByZXNwLmRhdGEuc3RhdHVzID09ICdlcnJvcicpIHsKICAgIE1lc3NhZ2UuZXJyb3IocmVzcC5kYXRhLm1zZyk7CiAgICByZXR1cm47CiAgfSAvL2dldOivt+axguaXoG1zZyxwb3N0IHB1dCBkZWxldGXlnYfov5Tlm55SZXBNc2flr7nosaEg5pyJbXNnCgoKICBpZiAocmVzcC5kYXRhLm1zZykgewogICAgTWVzc2FnZS5zdWNjZXNzKHJlc3AuZGF0YS5tc2cpOwogIH0KCiAgcmV0dXJuIHJlc3A7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PSA1MDQgfHwgZXJyLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDQpIHsKICAgIE1lc3NhZ2UuZXJyb3IoJ+acjeWKoeWZqOiuv+mXruWksei0pScpOwogIH0gZWxzZSBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEgfHwgZXJyLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDMpIHsKICAgIE1lc3NhZ2UuZXJyb3IoZXJyLnJlc3BvbnNlLmRhdGEubXNnKTsKICB9IGVsc2UgewogICAgaWYgKGVyci5yZXNwb25zZS5kYXRhLm1zZykgewogICAgICBNZXNzYWdlLmVycm9yKGVyci5yZXNwb25zZS5kYXRhLm1zZyk7CiAgICB9IGVsc2UgewogICAgICBNZXNzYWdlLmVycm9yKCfmnKrnn6XplJnor68hJyk7CiAgICB9CiAgfQp9KTsgLy9nZXQgcG9zdCBwdXQgZGVsZXRlIHVwbG9hZHBvc3QKCnZhciBiYXNlID0gJyc7CmV4cG9ydCB2YXIgZ2V0UmVxdWVzdCA9IGZ1bmN0aW9uIGdldFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAnZ2V0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgcGFyYW1zOiBwYXJhbXMsCiAgICBoZWFkZXJzOiB7CiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogICAgfQogIH0pOwp9OwpleHBvcnQgdmFyIHBvc3RSZXF1ZXN0ID0gZnVuY3Rpb24gcG9zdFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAnUE9TVCcsCiAgICB1cmw6ICIiLmNvbmNhdChiYXNlKS5jb25jYXQodXJsKSwKICAgIGRhdGE6IHBhcmFtcywKICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiAoZGF0YSkgewogICAgICB2YXIgcmV0ID0gJyc7CgogICAgICBmb3IgKHZhciBpdCBpbiBkYXRhKSB7CiAgICAgICAgcmV0ICs9IGVuY29kZVVSSUNvbXBvbmVudChpdCkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtpdF0pICsgJyYnOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfV0sCiAgICBoZWFkZXJzOiB7CiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogICAgfQogIH0pOwp9OwpleHBvcnQgdmFyIHB1dFJlcXVlc3QgPSBmdW5jdGlvbiBwdXRSZXF1ZXN0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGF4aW9zKHsKICAgIG1ldGhvZDogJ3B1dCcsCiAgICB1cmw6ICIiLmNvbmNhdChiYXNlKS5jb25jYXQodXJsKSwKICAgIGRhdGE6IHBhcmFtcywKICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiAoZGF0YSkgewogICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgZm9yICh2YXIgaXQgaW4gZGF0YSkgewogICAgICAgIGZvcm0uYXBwZW5kKGl0LCBkYXRhW2l0XSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmb3JtOwogICAgfV0sCiAgICBoZWFkZXJzOiB7CiAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgIH0KICB9KTsKfTsKZXhwb3J0IHZhciBkZWxldGVSZXF1ZXN0ID0gZnVuY3Rpb24gZGVsZXRlUmVxdWVzdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdkZWxldGUnLAogICAgdXJsOiAiIi5jb25jYXQoYmFzZSkuY29uY2F0KHVybCksCiAgICBkYXRhOiBwYXJhbXMsCiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgIGZvciAodmFyIGl0IGluIGRhdGEpIHsKICAgICAgICBmb3JtLmFwcGVuZChpdCwgZGF0YVtpdF0pOwogICAgICB9CgogICAgICByZXR1cm4gZm9ybTsKICAgIH1dLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICB9CiAgfSk7Cn07CmV4cG9ydCB2YXIgdXBsb2FkRmlsZVJlcXVlc3QgPSBmdW5jdGlvbiB1cGxvYWRGaWxlUmVxdWVzdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdwb3N0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgZGF0YTogcGFyYW1zLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICB9CiAgfSk7Cn07"},{"version":3,"sources":["F:/Spring Boot/STAR-BLOG/vue-starblog/src/axios/index.js"],"names":["axios","Message","interceptors","request","use","req","err","error","message","response","resp","status","data","msg","success","base","getRequest","url","params","method","headers","postRequest","transformRequest","ret","it","encodeURIComponent","putRequest","form","FormData","append","deleteRequest","uploadFileRequest"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {Message} from 'element-ui'\r\n\r\n//请求拦截\r\naxios.interceptors.request.use(req => {\r\n  return req;\r\n}, err => {\r\n  Message.error({message: '请求超时!'});\r\n});\r\n\r\n//响应拦截\r\naxios.interceptors.response.use(resp => {\r\n  //非get请求返回的RepMsg里\r\n  // data.status为error直接打断，success继续传递 resp\r\n  if (resp.status && resp.status == 200 && resp.data.status == 'error') {\r\n    Message.error(resp.data.msg);\r\n    return;\r\n  }\r\n  //get请求无msg,post put delete均返回RepMsg对象 有msg\r\n  if (resp.data.msg) {\r\n    Message.success(resp.data.msg);\r\n  }\r\n  return resp;\r\n}, err => {\r\n  if (err.response.status == 504 || err.response.status == 404) {\r\n    Message.error('服务器访问失败');\r\n  } else if (err.response.status == 401 || err.response.status == 403) {\r\n    Message.error(err.response.data.msg);\r\n  } else {\r\n    if (err.response.data.msg) {\r\n      Message.error(err.response.data.msg);\r\n    }else{\r\n      Message.error('未知错误!');\r\n    }\r\n  }\r\n});\r\n\r\n\r\n//get post put delete uploadpost\r\nlet base = '';\r\n\r\nexport const getRequest = (url,params) => {\r\n  return axios({\r\n    method: 'get',\r\n    url: `${base}${url}`,\r\n    params: params,\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    },\r\n\r\n  });\r\n};\r\n\r\n\r\nexport const postRequest = (url, params) => {\r\n  return axios({\r\n    method: 'POST',\r\n    url: `${base}${url}`,\r\n    data: params,\r\n    transformRequest: [function(data) {\r\n      let ret = '';\r\n      for (let it in data) {\r\n        ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&';\r\n      }\r\n      return ret;\r\n    }],\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    },\r\n  });\r\n};\r\n\r\n\r\n\r\nexport const putRequest = (url, params) => {\r\n  return axios({\r\n    method: 'put',\r\n    url: `${base}${url}`,\r\n    data: params,\r\n    transformRequest: [function(data) {\r\n      let form = new FormData();\r\n      for (let it in data) {\r\n        form.append(it,data[it]);\r\n      }\r\n      return form;\r\n    }],\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  });\r\n};\r\n\r\nexport const deleteRequest = (url, params) => {\r\n  return axios({\r\n    method: 'delete',\r\n    url: `${base}${url}`,\r\n    data: params,\r\n    transformRequest: [function(data) {\r\n      let form = new FormData();\r\n      for (let it in data) {\r\n        form.append(it,data[it]);\r\n      }\r\n      return form;\r\n    }],\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  });\r\n};\r\n\r\n\r\nexport const uploadFileRequest = (url, params) => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `${base}${url}`,\r\n    data: params,\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  });\r\n};\r\n\r\n"]}]}