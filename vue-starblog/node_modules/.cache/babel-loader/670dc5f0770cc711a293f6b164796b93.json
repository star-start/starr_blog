{"remainingRequest":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\babel-loader\\lib\\index.js!F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\view\\manage\\comment\\Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\view\\manage\\comment\\Comment.vue","mtime":1672399210835},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672420947809},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\babel-loader\\lib\\index.js","mtime":1672420951357},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672420947809},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\vue-loader\\lib\\index.js","mtime":1672420951796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZGVsZXRlUmVxdWVzdCwgZ2V0UmVxdWVzdCwgcHV0UmVxdWVzdCB9IGZyb20gJ0AvYXhpb3MnOwppbXBvcnQgeyBnZXRGb3JtYXRUaW1lIH0gZnJvbSAnQC91dGlscy90aW1lRm9ybWF0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb21tZW50JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnk6IHsKICAgICAgICB0aXRsZUtleXdvcmQ6ICcnLAogICAgICAgIGNvbnRlbnRLZXl3b3JkOiAnJywKICAgICAgICBzdGF0dXM6IC0xLAogICAgICAgIGN1clBhZ2U6IDEsCiAgICAgICAgcGFnZVNpemU6IDcKICAgICAgfSwKICAgICAgY29tbWVudHM6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcGFnZVRvdGFsOiAwLAogICAgICBlZGl0OiBmYWxzZSwKICAgICAgbmVlZEVkaXQ6IGZhbHNlLAogICAgICBjb21tZW50YXRvck5hbWU6ICcnLAogICAgICByZXBseUNvbnRlbnQ6ICcnLAogICAgICByZXBseUNyZWF0ZVRpbWU6ICcnLAogICAgICBlbmFibGVBZG1pbjogZmFsc2UsCiAgICAgIGFkbWluU2VsZWN0VXNlcklkOiAtMQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENvbW1lbnRzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDb21tZW50czogZnVuY3Rpb24gZ2V0Q29tbWVudHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRSZXF1ZXN0KHRoaXMuZW5hYmxlQWRtaW4gPyAnL2FkbWluL2FsbC9jb21tZW50Lz91c2VySWQ9JyArIHRoaXMuYWRtaW5TZWxlY3RVc2VySWQgKyAnJicgOiAnL2NvbW1lbnQvYWxsJywgdGhpcy5xdWVyeSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDIwMCkgewogICAgICAgICAgX3RoaXMuY29tbWVudHMgPSByZXNwLmRhdGEubGlzdDsKICAgICAgICAgIF90aGlzLnBhZ2VUb3RhbCA9IHJlc3AuZGF0YS50b3RhbDsKICAgICAgICB9CiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfmk43kvZzlpLHotKUnKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2VhcmNoOiBmdW5jdGlvbiBoYW5kbGVTZWFyY2goKSB7CiAgICAgIHRoaXMucXVlcnkuY3VyUGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0Q29tbWVudHMoKTsKICAgIH0sCiAgICBzZWxlY3RCeVVzZXJJZDogZnVuY3Rpb24gc2VsZWN0QnlVc2VySWQodXNlcklkKSB7CiAgICAgIHRoaXMuYWRtaW5TZWxlY3RVc2VySWQgPSB1c2VySWQ7CiAgICAgIHRoaXMuZ2V0Q29tbWVudHMoKTsKICAgIH0sCiAgICBoYW5kbGVDbGVhcjogZnVuY3Rpb24gaGFuZGxlQ2xlYXIoKSB7CiAgICAgIHRoaXMucXVlcnkudGl0bGVLZXl3b3JkID0gJyc7CiAgICAgIHRoaXMucXVlcnkuY29udGVudEtleXdvcmQgPSAnJzsKICAgICAgdGhpcy5xdWVyeS5zdGF0dXMgPSAtMTsKICAgICAgdGhpcy5xdWVyeS5jdXJQYWdlID0gMTsKICAgICAgdGhpcy5hZG1pblNlbGVjdFVzZXJJZCA9IC0xOwogICAgICB0aGlzLmdldENvbW1lbnRzKCk7CiAgICB9LAogICAgY2hhbmdlU2VsZWN0aW9uOiBmdW5jdGlvbiBjaGFuZ2VTZWxlY3Rpb24oKSB7CiAgICAgIHRoaXMucXVlcnkuY3VyUGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0Q29tbWVudHMoKTsKICAgIH0sCiAgICBoYW5kbGVQYWdlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVQYWdlQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLiRzZXQodGhpcy5xdWVyeSwgJ2N1clBhZ2UnLCB2YWwpOwogICAgICB0aGlzLmdldENvbW1lbnRzKCk7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChpbmRleCwgcm93KSB7CiAgICAgIGlmIChyb3cuc3RhdHVzICE9IDEpIHsKICAgICAgICB0aGlzLmNoYW5nZVN0YXR1cyhyb3cuY29tbWVudElkLCAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVkaXQgPSB0cnVlOwoKICAgICAgICBpZiAocm93LnJlcGx5Q29udGVudCkgewogICAgICAgICAgdGhpcy5uZWVkRWRpdCA9IHRydWU7CiAgICAgICAgICB0aGlzLnJlcGx5Q3JlYXRlVGltZSA9IGdldEZvcm1hdFRpbWUocm93LnJlcGx5Q3JlYXRlVGltZSk7CiAgICAgICAgICB0aGlzLnJlcGx5Q29udGVudCA9IHJvdy5yZXBseUNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucmVwbHlDb250ZW50ID0gJyc7CiAgICAgICAgICB0aGlzLm5lZWRFZGl0ID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNvbW1lbnRJZCA9IHJvdy5jb21tZW50SWQ7CiAgICAgICAgdGhpcy5jb21tZW50YXRvck5hbWUgPSByb3cuY29tbWVudGF0b3JOYW1lOwogICAgICB9CiAgICB9LAogICAgc2F2ZUVkaXQ6IGZ1bmN0aW9uIHNhdmVFZGl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHB1dFJlcXVlc3QoJy9jb21tZW50L3JlcGx5LycsIHsKICAgICAgICBjb21tZW50SWQ6IHRoaXMuY29tbWVudElkLAogICAgICAgIHJlcGx5Q29udGVudDogdGhpcy5yZXBseUNvbnRlbnQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIGlmIChyZXNwLmRhdGEuc3RhdHVzID09ICdzdWNjZXNzJykgewogICAgICAgICAgICBfdGhpczIuZWRpdCA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczIucmVwbHlDb250ZW50ID0gJyc7CgogICAgICAgICAgICBfdGhpczIuZ2V0Q29tbWVudHMoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGluZGV4LCByb3cpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAocm93LnN0YXR1cyA9PSAwKSB7CiAgICAgICAgZGVsZXRlUmVxdWVzdCgnL2NvbW1lbnQvJywgewogICAgICAgICAgY29tbWVudElkOiByb3cuY29tbWVudElkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBpZiAocmVzcC5kYXRhLnN0YXR1cyA9PSAnc3VjY2VzcycpIHsKICAgICAgICAgICAgICBfdGhpczMuZ2V0Q29tbWVudHMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hhbmdlU3RhdHVzKHJvdy5jb21tZW50SWQsIDApOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlU3RhdHVzOiBmdW5jdGlvbiBjaGFuZ2VTdGF0dXMoY29tbWVudElkLCBzdGF0dXMpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBwdXRSZXF1ZXN0KCcvY29tbWVudC9zdGF0dXMnLCB7CiAgICAgICAgY29tbWVudElkOiBjb21tZW50SWQsCiAgICAgICAgc3RhdHVzOiBzdGF0dXMKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIGlmIChyZXNwLmRhdGEuc3RhdHVzID09ICdzdWNjZXNzJykgewogICAgICAgICAgICBfdGhpczQuZ2V0Q29tbWVudHMoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container\">\r\n      <div class=\"handle-box\">\r\n        <el-input v-model=\"query.titleKeyword\" placeholder=\"通过文章标题搜索\" class=\"handle-input mr10\"></el-input>\r\n        <el-input v-model=\"query.contentKeyword\" placeholder=\"通过评论搜索\" class=\"handle-input mr10\"></el-input>\r\n        <el-select @change=\"changeSelection\" v-model=\"query.status\" placeholder=\"评论状态\" class=\"handle-select mr10\">\r\n          <el-option key=\"-1\" label=\"全部评论\" :value=\"-1\"></el-option>\r\n          <el-option key=\"1\" label=\"已发布\" :value=\"1\"></el-option>\r\n          <el-option key=\"2\" label=\"待审核\" :value=\"2\"></el-option>\r\n          <el-option key=\"0\" label=\"回收站\" :value=\"0\"></el-option>\r\n        </el-select>\r\n        <el-button type=\"primary\" @click=\"handleSearch\">搜索</el-button>\r\n        <el-button type=\"info\" plain @click=\"handleClear\">重置</el-button>\r\n        <el-switch\r\n                v-if=\"this.$store.getters.isAdmin\"\r\n                v-model=\"enableAdmin\"\r\n                style=\"display: inline-block;font-size: 12px;float: right;\"\r\n                active-text=\"开启管理员模式\"\r\n                active-color=\"#13ce66\"\r\n                inactive-color=\"#d5dce6\"\r\n                @change=\"getComments\"\r\n        >\r\n        </el-switch>\r\n      </div>\r\n      <el-table\r\n              v-loading=\"loading\"\r\n              :data=\"comments\"\r\n              border\r\n              class=\"table\"\r\n              ref=\"multipleTable\"\r\n              header-cell-class-name=\"table-header\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"commentatorName\" label=\"昵称\" width=\"100\" align=\"left\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tooltip  effect=\"light\"  placement=\"right-end\" >\r\n              <div slot=\"content\">name:{{scope.row.commentatorName}}<br/>\r\n                email:{{scope.row.commentatorEmail}}<br/>\r\n                location:{{scope.row.commentatorLocation}}\r\n              </div>\r\n              <el-button  type=\"text\" icon=\"el-icon-user\" >{{scope.row.commentatorName}}</el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"commentContent\" label=\"内容\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"状态\" align=\"center\" width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag :type=\"scope.row.status=== 1?'success':(scope.row.status=== 0?'danger':'warning')\"\r\n            >\r\n              {{scope.row.status=== 1?'已发布':(scope.row.status=== 0?'回收站':'待审核')}}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"title\" label=\"评论文章\" align=\"center\"></el-table-column>\r\n        <el-table-column v-if=\"enableAdmin\"  label=\"文章作者\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tooltip  effect=\"light\"  placement=\"right-end\" >\r\n              <div slot=\"content\">UID:{{scope.row.userId}}\r\n              </div>\r\n              <el-button\r\n                      type=\"text\"\r\n                      icon=\"el-icon-user\"\r\n                      size=\"mini\"\r\n                      style=\"color: #6ffcff\"\r\n                      @click=\"selectByUserId(scope.row.userId)\"\r\n              >{{scope.row.nickname}}\r\n              </el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"commentCreateTime\" label=\"评论时间\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                    type=\"text\"\r\n                    icon=\"el-icon-edit\"\r\n                    @click=\"handleEdit(scope.$index, scope.row)\"\r\n            >{{scope.row.status == 2 ? '通过': scope.row.status == 0?'还原':scope.row.replyContent!=''?'查看回复':'回复'}}\r\n            </el-button>\r\n            <el-button\r\n                    type=\"text\"\r\n                    icon=\"el-icon-delete\"\r\n                    style=\"color: red\"\r\n                    @click=\"handleDelete(scope.$index, scope.row)\"\r\n            >{{scope.row.status!=0?'回收站':'删除'}}\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n                style=\"display: inline-block; padding: 0px\"\r\n                background\r\n                layout=\"total, prev, pager, next\"\r\n                :current-page=\"query.curPage\"\r\n                :page-size=\"query.pageSize\"\r\n                :total=\"pageTotal\"\r\n                @current-change=\"handlePageChange\"\r\n        ></el-pagination>\r\n        <el-select @change=\"changeSelection\" v-model=\"query.pageSize\" placeholder=\"评论状态\" class=\"handle-select\">\r\n          <el-option key=\"0\" label=\"5条/页\" :value=\"5\"></el-option>\r\n          <el-option key=\"1\" label=\"7条/页\" :value=\"7\"></el-option>\r\n          <el-option key=\"2\" label=\"10条/页\" :value=\"10\"></el-option>\r\n          <el-option key=\"3\" label=\"20条/页\" :value=\"20\"></el-option>\r\n          <el-option key=\"4\" label=\"50条/页\" :value=\"50\"></el-option>\r\n        </el-select>\r\n      </div>\r\n\r\n      <el-dialog :title=\"'回复：'+commentatorName\" :visible.sync=\"edit\" width=\"30%\">\r\n        <el-input\r\n                type=\"textarea\"\r\n                :rows=\"8\"\r\n                placeholder=\"\"\r\n                v-model=replyContent\r\n                maxlength=\"150\"\r\n                show-word-limit\r\n        >\r\n        </el-input>\r\n        <p v-if=\"needEdit\" style=\"margin-top: 20px;text-align: right\">{{'回复于：'+ replyCreateTime}}</p>\r\n        <el-button style=\"margin-top: 20px\" type=\"info\" plain @click=\"replyContent=''\">重 置</el-button>\r\n        <el-button type=\"primary\" @click=\"saveEdit\">{{needEdit?'修 改':'确 定'}}</el-button>\r\n      </el-dialog>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { deleteRequest, getRequest, putRequest } from '@/axios';\r\n  import { getFormatTime } from '@/utils/timeFormat';\r\n\r\n\r\nexport default {\r\n    name: 'Comment',\r\n    data() {\r\n      return {\r\n        query: {\r\n          titleKeyword: '',\r\n          contentKeyword: '',\r\n          status: -1,\r\n          curPage: 1,\r\n          pageSize: 7\r\n        },\r\n\r\n        comments: [],\r\n\r\n        loading: false,\r\n        pageTotal: 0,\r\n\r\n        edit: false,\r\n        needEdit: false,\r\n        commentatorName: '',\r\n        replyContent: '',\r\n        replyCreateTime: '',\r\n\r\n        enableAdmin: false,\r\n        adminSelectUserId: -1\r\n      }\r\n    },\r\n\r\n    created() {\r\n      this.getComments();\r\n    },\r\n\r\n    methods: {\r\n      getComments() {\r\n        this.loading = true;\r\n        getRequest(this.enableAdmin?'/admin/all/comment/?userId='+ this.adminSelectUserId + '&':'/comment/all', this.query).then(resp => {\r\n          this.loading = false;\r\n          if (resp.status == 200) {\r\n            this.comments = resp.data.list;\r\n            this.pageTotal = resp.data.total;\r\n          }\r\n        }, err => {\r\n          this.loading = false;\r\n        }).catch(err => {\r\n          this.loading = false;\r\n          this.$message.error('操作失败');\r\n        });\r\n      },\r\n\r\n      handleSearch(){\r\n        this.query.curPage = 1;\r\n        this.getComments();\r\n      },\r\n\r\n      selectByUserId(userId) {\r\n        this.adminSelectUserId = userId;\r\n        this.getComments();\r\n      },\r\n\r\n      handleClear(){\r\n        this.query.titleKeyword = '';\r\n        this.query.contentKeyword = '';\r\n        this.query.status = -1;\r\n        this.query.curPage = 1;\r\n        this.adminSelectUserId = -1;\r\n        this.getComments();\r\n      },\r\n\r\n      changeSelection() {\r\n        this.query.curPage = 1;\r\n        this.getComments();\r\n      },\r\n\r\n      handlePageChange(val) {\r\n        this.$set(this.query, 'curPage', val);\r\n        this.getComments();\r\n      },\r\n\r\n      handleEdit(index, row) {\r\n        if (row.status != 1) {\r\n          this.changeStatus(row.commentId,1);\r\n        }else{\r\n          this.edit = true;\r\n          if (row.replyContent){\r\n            this.needEdit = true;\r\n            this.replyCreateTime = getFormatTime(row.replyCreateTime);\r\n            this.replyContent = row.replyContent;\r\n          }else{\r\n            this.replyContent = '';\r\n            this.needEdit = false;\r\n          }\r\n          this.commentId = row.commentId;\r\n          this.commentatorName = row.commentatorName;\r\n        }\r\n      },\r\n\r\n      saveEdit() {\r\n        putRequest('/comment/reply/', {\r\n          commentId: this.commentId,\r\n          replyContent: this.replyContent\r\n        }).then(resp => {\r\n          if (resp.status == 200) {\r\n            if (resp.data.status == 'success') {\r\n              this.edit = false;\r\n              this.replyContent = '';\r\n              this.getComments();\r\n            }\r\n          }\r\n        })\r\n      },\r\n\r\n      handleDelete(index, row) {\r\n        if (row.status == 0) {\r\n          deleteRequest('/comment/', {\r\n            commentId: row.commentId\r\n          }).then(resp => {\r\n            if (resp.status == 200) {\r\n              if (resp.data.status == 'success') {\r\n                this.getComments();\r\n              }\r\n            }\r\n          })\r\n        } else {\r\n          this.changeStatus(row.commentId, 0);\r\n        }\r\n      },\r\n\r\n\r\n      changeStatus(commentId, status) {\r\n        putRequest('/comment/status', {\r\n          commentId:commentId,\r\n          status:status\r\n        }).then(resp => {\r\n          if (resp.status == 200) {\r\n            if (resp.data.status == 'success') {\r\n              this.getComments();\r\n            }\r\n          }\r\n        })\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  .handle-input {\r\n    width: 250px;\r\n    display: inline-block;\r\n  }\r\n\r\n  .mr10 {\r\n    margin-right: 10px;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .handle-select {\r\n    width: 100px;\r\n  }\r\n\r\n</style>\r\n"],"sourceRoot":"src/view/manage/comment"}]}