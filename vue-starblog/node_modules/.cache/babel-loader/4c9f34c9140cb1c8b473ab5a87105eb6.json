{"remainingRequest":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\babel-loader\\lib\\index.js!F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\view\\manage\\admin\\UserManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\view\\manage\\admin\\UserManager.vue","mtime":1672399210832},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672420947809},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\babel-loader\\lib\\index.js","mtime":1672420951357},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672420947809},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\vue-loader\\lib\\index.js","mtime":1672420951796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZGVsZXRlUmVxdWVzdCwgZ2V0UmVxdWVzdCwgcHV0UmVxdWVzdCB9IGZyb20gJ0AvYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VzZXJNYW5hZ2VyJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnk6IHsKICAgICAgICBuaWNrbmFtZUtleXdvcmQ6ICcnLAogICAgICAgIHN0YXR1czogMSwKICAgICAgICBjdXJQYWdlOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMgogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgc2luZ2xlTG9hZGluZ3M6IFtdLAogICAgICB1c2VyczogW10sCiAgICAgIHRhZ1R5cGU6IFsnZGFuZ2VyJywgJ3N1Y2Nlc3MnLCAnd2FybmluZycsICdwcmltYXJ5J10sCiAgICAgIGFsbFJvbGVzOiBbXSwKICAgICAgcm9sZUlkczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5zaW5nbGVMb2FkaW5ncyA9IEFycmF5LmFwcGx5KG51bGwsIEFycmF5KDEyKSkubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwogICAgdGhpcy5nZXRVc2VycygpOwogICAgdGhpcy5nZXRBbGxSb2xlcygpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VXNlcnM6IGZ1bmN0aW9uIGdldFVzZXJzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0UmVxdWVzdCgnL2FkbWluL3VzZXIvYWxsJywgdGhpcy5xdWVyeSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDIwMCkgewogICAgICAgICAgX3RoaXMudXNlcnMgPSByZXNwLmRhdGEubGlzdDsKICAgICAgICB9CiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEFsbFJvbGVzOiBmdW5jdGlvbiBnZXRBbGxSb2xlcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBnZXRSZXF1ZXN0KCcvYWRtaW4vcm9sZS9hbGwnKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDIwMCkgewogICAgICAgICAgX3RoaXMyLmFsbFJvbGVzID0gcmVzcC5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlU3RhdHVzOiBmdW5jdGlvbiBjaGFuZ2VTdGF0dXModXNlcklkLCBzdGF0dXMsIGluZGV4LCBpc05ld1VzZXIpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnNpbmdsZUxvYWRpbmdzLnNwbGljZShpbmRleCwgMSwgdHJ1ZSk7CiAgICAgIHB1dFJlcXVlc3QoJy9hZG1pbi91c2VyL3N0YXR1cycsIHsKICAgICAgICB1c2VySWQ6IHVzZXJJZCwKICAgICAgICBzdGF0dXM6IHN0YXR1cywKICAgICAgICBpc05ld1VzZXI6IGlzTmV3VXNlcgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDIwMCkgewogICAgICAgICAgX3RoaXMzLnNpbmdsZUxvYWRpbmdzLnNwbGljZShpbmRleCwgMSwgZmFsc2UpOwoKICAgICAgICAgIF90aGlzMy5nZXRVc2VycygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUodXNlcklkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn5Yig6Zmk6K+l55So5oi377yM5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJGNvbmZpcm0oJ+ivpeeUqOaIt+S4i+eahOaJgOacieaWh+eroOOAgeWIhuexu+OAgeivhOiuuuWdh+S8muiiq+WIoOmZpO+8jOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnaW5mbycKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZVJlcXVlc3QoJy9hZG1pbi91c2VyLycgKyB1c2VySWQpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgIF90aGlzNC5nZXRVc2VycygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd1JvbGVJZHM6IGZ1bmN0aW9uIHNob3dSb2xlSWRzKHJvbGVzKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5yb2xlSWRzID0gW107CiAgICAgIHJvbGVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgX3RoaXM1LnJvbGVJZHMucHVzaChpdGVtLnJvbGVJZCk7CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZVJvbGVzOiBmdW5jdGlvbiBjaGFuZ2VSb2xlcyhyb2xlSWRzLCB1c2VySWQsIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKHJvbGVJZHMubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfop5LoibLkuI3lj6/kuLrnqbonKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHB1dFJlcXVlc3QoJy9hZG1pbi91c2VyL3JvbGVzJywgewogICAgICAgIHJvbGVJZHM6IHJvbGVJZHMsCiAgICAgICAgdXNlcklkOiB1c2VySWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIF90aGlzNi5nZXRVc2VyQnlVc2VySWQodXNlcklkLCBpbmRleCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRVc2VyQnlVc2VySWQ6IGZ1bmN0aW9uIGdldFVzZXJCeVVzZXJJZCh1c2VySWQsIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgLy9zcGxpY2XluKbliLfmlrDlip/og73vvIjkvZPpqozlvpcuLgogICAgICB0aGlzLnNpbmdsZUxvYWRpbmdzLnNwbGljZShpbmRleCwgMSwgdHJ1ZSk7CiAgICAgIGdldFJlcXVlc3QoJy9hZG1pbi91c2VyLycgKyB1c2VySWQpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBfdGhpczcuc2luZ2xlTG9hZGluZ3Muc3BsaWNlKGluZGV4LCAxLCBmYWxzZSk7CgogICAgICAgICAgX3RoaXM3LnVzZXJzLnNwbGljZShpbmRleCwgMSwgcmVzcC5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["UserManager.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"user-manager-body\" v-loading=\"loading\">\r\n      <el-row style=\"margin-bottom: 10px\">\r\n        <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" >\r\n          <el-radio-group v-model=\"query.status\" @change=\"getUsers()\" style=\"margin-right: 40px;text-align: left;\">\r\n            <el-radio :label=\"1\">已注册</el-radio>\r\n            <el-radio :label=\"2\">待审核</el-radio>\r\n          </el-radio-group>\r\n          <el-input v-model=\"query.nicknameKeyword\" placeholder=\"通过用户昵称搜索\" class=\"input-body\"></el-input>\r\n          <el-button type=\"primary\" style=\"display: inline-block;\" icon=\"el-icon-search\" @click=\"getUsers()\">搜索\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n\r\n      <el-row :gutter=\"20\">\r\n        <el-col v-for=\"(user,index) in users\" :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"6\" :xl=\"6\"\r\n                :key=\"user.username\"\r\n                v-loading=\"singleLoadings[index]\" style=\"margin-bottom:20px\">\r\n          <el-card class=\"box-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <span>{{user.nickname}}</span>\r\n              <el-button @click=\"handleDelete(user.userId)\"\r\n                         class=\"delete-button\"\r\n                         icon=\"el-icon-delete\"\r\n                         type=\"text\">删除\r\n              </el-button>\r\n            </div>\r\n            <div class=\"form-body\">\r\n              <p class=\"pText\">用户名：{{user.username}}</p>\r\n              <p class=\"pText\">性别：{{user.gender == 1? '男':'女'}}</p>\r\n              <p class=\"pText\">邮箱：{{user.email}}</p>\r\n              <p class=\"pText\">注册时间：{{user.registerTime}}</p>\r\n              <div v-if=\"query.status!=2\">\r\n                <div style=\"margin-bottom: 15px\">\r\n                  <p class=\"pText\" style=\"display: inline\">\r\n                    状态：\r\n                  </p>\r\n                  <el-switch\r\n                          v-model=\"user.status\"\r\n                          style=\"display: inline-block;font-size: 12px\"\r\n                          active-text=\"启用\"\r\n                          inactive-text=\"封禁\"\r\n                          :active-value=\"1\"\r\n                          :inactive-value=\"0\"\r\n                          active-color=\"#13ce66\"\r\n                          inactive-color=\"#ff4949\"\r\n                          @change=\"changeStatus(user.userId,user.status,index,false)\"\r\n                  >\r\n                  </el-switch>\r\n                </div>\r\n                <div style=\"margin-bottom: 15px\">\r\n                  <p class=\"pText\" style=\"display: inline\">\r\n                    角色：\r\n                  </p>\r\n                  <el-tag v-for=\"(item,index) in user.roles\"\r\n                          :key=\"item.roleId\"\r\n                          :type=\"tagType[item.roleId -1]\"\r\n                          size=\"mini\"\r\n                          class=\"fa fa-user\"\r\n                          style=\"margin: 0px 2px\"\r\n                  > {{item.roleNameZh}}\r\n                  </el-tag>\r\n\r\n                  <el-popover\r\n                          placement=\"right-end\"\r\n                          width=\"160\"\r\n                          @hide=\"changeRoles(roleIds,user.userId,index)\"\r\n                  >\r\n                    <p class=\"pText\">更改角色</p>\r\n                    <el-select v-model=\"roleIds\" multiple placeholder=\"请选择\" size=\"mini\">\r\n                      <el-option\r\n                              v-for=\"(item,index) in allRoles\"\r\n                              :key=\"item.roleId\"\r\n                              :label=\"item.roleNameZh\"\r\n                              :value=\"item.roleId\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <el-button type=\"text\" size=\"mini\" icon=\"fa fa-plus-square\"\r\n                               style=\"color: #f07724;\" slot=\"reference\" @click=\"showRoleIds(user.roles)\"></el-button>\r\n                  </el-popover>\r\n                </div>\r\n              </div>\r\n              <div v-else>\r\n                <el-button type=\"warning\" icon=\"fa fa-futbol-o\" @click=\"changeStatus(user.userId,1,index, true)\"> 审核通过\r\n                </el-button>\r\n              </div>\r\n            </div>\r\n\r\n          </el-card>\r\n        </el-col>\r\n\r\n\r\n      </el-row>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { deleteRequest, getRequest, putRequest } from '@/axios';\r\n\r\n  export default {\r\n    name: 'UserManager',\r\n\r\n    data() {\r\n      return {\r\n        query: {\r\n          nicknameKeyword: '',\r\n          status: 1,\r\n          curPage: 1,\r\n          pageSize: 12\r\n        },\r\n\r\n        loading: false,\r\n        singleLoadings: [],\r\n\r\n        users: [],\r\n\r\n        tagType: ['danger', 'success', 'warning', 'primary'],\r\n\r\n        allRoles: [],\r\n        roleIds: []\r\n      };\r\n    },\r\n\r\n\r\n    created() {\r\n      this.singleLoadings = Array.apply(null, Array(12)).map(function(item, i) {\r\n        return false;\r\n      });\r\n      this.getUsers();\r\n      this.getAllRoles();\r\n    },\r\n\r\n    methods: {\r\n      getUsers() {\r\n        this.loading = true;\r\n        getRequest('/admin/user/all', this.query).then(resp => {\r\n          this.loading = false;\r\n          if (resp.status == 200) {\r\n            this.users = resp.data.list;\r\n          }\r\n        }, err => {\r\n          this.loading = false;\r\n        }).catch(err => {\r\n          this.loading = false;\r\n        });\r\n      },\r\n\r\n\r\n      getAllRoles() {\r\n        getRequest('/admin/role/all').then(resp => {\r\n          if (resp.status == 200) {\r\n            this.allRoles = resp.data;\r\n          }\r\n        });\r\n      },\r\n\r\n\r\n      changeStatus(userId, status, index, isNewUser) {\r\n        this.singleLoadings.splice(index, 1, true);\r\n        putRequest('/admin/user/status', {\r\n          userId: userId,\r\n          status: status,\r\n          isNewUser: isNewUser\r\n        }).then(resp => {\r\n          if (resp.status == 200) {\r\n            this.singleLoadings.splice(index, 1, false);\r\n            this.getUsers();\r\n          }\r\n        })\r\n      },\r\n\r\n      handleDelete(userId) {\r\n        this.$confirm('删除该用户，是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$confirm('该用户下的所有文章、分类、评论均会被删除，是否继续?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'info'\r\n          }).then(() => {\r\n            deleteRequest('/admin/user/' + userId).then(resp => {\r\n              if (resp.status == 200) {\r\n                this.getUsers();\r\n              }\r\n            })\r\n          })\r\n        })\r\n      },\r\n\r\n      showRoleIds(roles) {\r\n        this.roleIds = [];\r\n        roles.forEach((item, index) => {\r\n          this.roleIds.push(item.roleId);\r\n        });\r\n      },\r\n\r\n      changeRoles(roleIds, userId, index) {\r\n\r\n        if (roleIds.length == 0) {\r\n          this.$message.error('角色不可为空');\r\n          return false;\r\n        }\r\n        putRequest('/admin/user/roles', {\r\n          roleIds: roleIds,\r\n          userId: userId\r\n        }).then(resp => {\r\n          if (resp.status == 200) {\r\n            this.getUserByUserId(userId, index);\r\n          }\r\n        })\r\n      },\r\n\r\n      getUserByUserId(userId, index) {\r\n        //splice带刷新功能（体验得..\r\n        this.singleLoadings.splice(index, 1, true);\r\n        getRequest('/admin/user/' + userId).then(resp => {\r\n          if (resp.status == 200) {\r\n            this.singleLoadings.splice(index, 1, false);\r\n            this.users.splice(index, 1, resp.data);\r\n          }\r\n        })\r\n      }\r\n\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .user-manager-body {\r\n    padding: 0px 20px;\r\n  }\r\n\r\n  .input-body {\r\n    width: 30%;\r\n    display: inline-block;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .delete-button {\r\n    float: right;\r\n    padding: 3px 0;\r\n    color: red;\r\n  }\r\n\r\n\r\n  .form-body {\r\n    padding: 10px;\r\n  }\r\n\r\n  .pText {\r\n    margin-bottom: 15px;\r\n    font-size: 14px;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/view/manage/admin"}]}