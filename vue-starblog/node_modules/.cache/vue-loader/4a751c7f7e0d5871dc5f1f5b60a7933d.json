{"remainingRequest":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\view\\home\\homeContent\\home\\BriefArticle.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\view\\home\\homeContent\\home\\BriefArticle.vue","mtime":1672399210831},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672420947809},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\babel-loader\\lib\\index.js","mtime":1672420951357},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672420947809},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\vue-loader\\lib\\index.js","mtime":1672420951796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEZvcm1hdFRpbWUgfSBmcm9tICdAL3V0aWxzL3RpbWVGb3JtYXQnOwppbXBvcnQgeyBnZXRSZXF1ZXN0IH0gZnJvbSAnQC9heGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0JyaWVmQXJ0aWNsZScsCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICBicmllZkFydGljbGVzOltdLAogICAgICBjb250ZW50OifmiJHmmK/osIEnLAoKICAgICAgY3VyUGFnZToxLAogICAgICBwYWdlU2l6ZToxMCwKICAgICAgcGFnZVRvdGFsOjAsCiAgICAgIHVzZXJJZDonJywKCiAgICAgIGxvYWRpbmc6ZmFsc2UKICAgIH0KICB9LAoKCgogIGNvbXB1dGVkOiB7CiAgICBsaXN0U2VhcmNoQ29uZGl0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubGlzdFNlYXJjaENvbmRpdGlvbjsKICAgIH0sCgogICAgaGFzQ2hhbmdlZCgpewogICAgICByZXR1cm4gdGhpcy5saXN0U2VhcmNoQ29uZGl0aW9uLmNvbmRpdGlvbit0aGlzLmxpc3RTZWFyY2hDb25kaXRpb24ubmFtZTsKICAgIH0sCgogICAga2V5d29yZCgpewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUua2V5d29yZDsKICAgIH0KCgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEJyaWVmQXJ0aWNsZXMoKTsKICB9LAoKICB3YXRjaDogewogICAgaGFzQ2hhbmdlZCgpewogICAgICB0aGlzLmdldEJyaWVmQXJ0aWNsZXMoKTsKICAgIH0sCgogICAga2V5d29yZCgpewogICAgICB0aGlzLmdldEJyaWVmQXJ0aWNsZXMoKTsKICAgIH0KICB9LAoKCiAgbWV0aG9kczp7CiAgICBnZXRCcmllZkFydGljbGVzKCl7CiAgICAgIGxldCBjb25kaXRpb24gPSB0aGlzLmxpc3RTZWFyY2hDb25kaXRpb24uY29uZGl0aW9uOwogICAgICBsZXQgbmFtZSA9IHRoaXMubGlzdFNlYXJjaENvbmRpdGlvbi5uYW1lOwogICAgICBsZXQgdXJsID0nJzsKICAgICAgaWYgKGNvbmRpdGlvbiA9PSAnY2F0ZWdvcnknKXsKICAgICAgICB1cmwgPSAnL2hvbWUvY2F0ZWdvcnkvYWxsP2NhdGVnb3J5TmFtZT0nK25hbWUrJyZjdXJQYWdlPScrIHRoaXMuY3VyUGFnZSsgJyZwYWdlU2l6ZT0nKyB0aGlzLnBhZ2VTaXplOwogICAgICB9ZWxzZSBpZiAoY29uZGl0aW9uID09ICd0YWcnKXsKICAgICAgICB1cmwgPSAnL2hvbWUvdGFnL2FsbD90YWdOYW1lPScrbmFtZSsnJmN1clBhZ2U9JysgdGhpcy5jdXJQYWdlKyAnJnBhZ2VTaXplPScrIHRoaXMucGFnZVNpemU7CiAgICAgIH1lbHNlewogICAgICAgIHVybCA9ICcvaG9tZS9hbGwvYXJ0aWNsZT9zdGF0dXM9MSZjdXJQYWdlPScrIHRoaXMuY3VyUGFnZSsgJyZwYWdlU2l6ZT0nKyB0aGlzLnBhZ2VTaXplKycma2V5d29yZD0nKyB0aGlzLmtleXdvcmQrJyZ1c2VySWQ9JysgY29uZGl0aW9uIDsKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRSZXF1ZXN0KHVybCkudGhlbiggcmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDIwMCl7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuYnJpZWZBcnRpY2xlcyA9IHJlc3AuZGF0YS5saXN0OwogICAgICAgICAgdGhpcy5icmllZkFydGljbGVzLmZvckVhY2goKGl0ZW0saW5kZXgpID0+IHsKICAgICAgICAgICAgaXRlbS5jcmVhdGVUaW1lID0gZ2V0Rm9ybWF0VGltZShpdGVtLmNyZWF0ZVRpbWUpOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnBhZ2VUb3RhbCA9IHJlc3AuZGF0YS50b3RhbDsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCBlcnIgPT57CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pCiAgICB9LAoKICAgIGhhbmRsZVBhZ2VDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuY3VyUGFnZSA9IHZhbDsKICAgICAgdGhpcy5nZXRCcmllZkFydGljbGVzKCk7CiAgICB9LAoKCiAgICBjaGFuZ2VDb25kaXRpb24oY29uZGl0aW9uLG5hbWUpewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZUNvbmRpdGlvbicsewogICAgICAgIGNvbmRpdGlvbjpjb25kaXRpb24sCiAgICAgICAgbmFtZTpuYW1lCiAgICAgIH0pOwogICAgfSwKCiAgICB0b0FydGljbGVQYWdlKGFydGljbGVJZCl7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbG9va0FydGljbGUnLGFydGljbGVJZCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZS9hcnRpY2xlUGFnZScpOwogICAgfQoKICB9Cn07Cg=="},{"version":3,"sources":["BriefArticle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"BriefArticle.vue","sourceRoot":"src/view/home/homeContent/home","sourcesContent":["<template>\r\n  <div v-loading=\"loading\">\r\n    <div v-if=\"this.listSearchCondition.condition\" class=\"brief-article-card\">\r\n      <div style=\"padding: 22px 30px\">\r\n        <el-breadcrumb separator=\"/\">\r\n          <el-breadcrumb-item>\r\n            <i class=\"fa fa-caret-right\" style=\"margin-right: 6px\"></i>\r\n            {{this.listSearchCondition.condition == 'tag'? '标签':this.listSearchCondition.condition=='category'?'分类':'用户'}}\r\n          </el-breadcrumb-item>\r\n          <el-breadcrumb-item> {{this.listSearchCondition.name}}</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-for=\"item in briefArticles\" class=\"brief-article-card\">\r\n      <div :index=\"item.index\" :key=\"item.index\" class=\"card-body\">\r\n        <p style=\"font-size: 12px;color: #7a7a7a ;\">\r\n          {{(item.createTime)}}\r\n          <el-button  type=\"text\" style=\"margin:0px 10px;color: #7a7a7a;\"\r\n                      @click=\"changeCondition('category',item.categoryName)\">\r\n            {{item.categoryName}}\r\n          </el-button>\r\n          {{Math.round(item.content.length/160 + 1)}}分钟 读完(大约{{item.content.length}}字)\r\n        </p>\r\n        <el-link   :underline=\"false\" style=\"font-size: 21px;font-weight: 400;\" @click=\"toArticlePage(item.articleId)\">\r\n          {{item.title}}\r\n        </el-link>\r\n        <p style=\"font-size: 16px;color: #4a4a4a ;margin: 20px 0px\">\r\n          {{item.summary}}\r\n        </p>\r\n        <el-button type=\"info\" size=\"mini\" @click=\"toArticlePage(item.articleId)\">\r\n          阅读更多\r\n        </el-button>\r\n        <el-button  type=\"text\" style=\"margin:0px 10px;color: #7a7a7a;\"\r\n                    @click=\"changeCondition(item.userId,item.nickname)\">\r\n          <i class=\"fa fa-user\"></i>\r\n            {{item.nickname}}\r\n        </el-button>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"pagination\">\r\n      <el-pagination\r\n              background\r\n              layout=\"total, prev, pager, next\"\r\n              :current-page=\"curPage\"\r\n              :page-size=\"pageSize\"\r\n              :total=\"pageTotal\"\r\n              @current-change=\"handlePageChange\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { getFormatTime } from '@/utils/timeFormat';\r\n  import { getRequest } from '@/axios';\r\n\r\n  export default {\r\n    name: 'BriefArticle',\r\n    data(){\r\n      return{\r\n        briefArticles:[],\r\n        content:'我是谁',\r\n\r\n        curPage:1,\r\n        pageSize:10,\r\n        pageTotal:0,\r\n        userId:'',\r\n\r\n        loading:false\r\n      }\r\n    },\r\n\r\n\r\n\r\n    computed: {\r\n      listSearchCondition() {\r\n        return this.$store.state.listSearchCondition;\r\n      },\r\n\r\n      hasChanged(){\r\n        return this.listSearchCondition.condition+this.listSearchCondition.name;\r\n      },\r\n\r\n      keyword(){\r\n        return this.$store.state.keyword;\r\n      }\r\n\r\n\r\n    },\r\n\r\n    created() {\r\n      this.getBriefArticles();\r\n    },\r\n\r\n    watch: {\r\n      hasChanged(){\r\n        this.getBriefArticles();\r\n      },\r\n\r\n      keyword(){\r\n        this.getBriefArticles();\r\n      }\r\n    },\r\n\r\n\r\n    methods:{\r\n      getBriefArticles(){\r\n        let condition = this.listSearchCondition.condition;\r\n        let name = this.listSearchCondition.name;\r\n        let url ='';\r\n        if (condition == 'category'){\r\n          url = '/home/category/all?categoryName='+name+'&curPage='+ this.curPage+ '&pageSize='+ this.pageSize;\r\n        }else if (condition == 'tag'){\r\n          url = '/home/tag/all?tagName='+name+'&curPage='+ this.curPage+ '&pageSize='+ this.pageSize;\r\n        }else{\r\n          url = '/home/all/article?status=1&curPage='+ this.curPage+ '&pageSize='+ this.pageSize+'&keyword='+ this.keyword+'&userId='+ condition ;\r\n        }\r\n        this.loading = true;\r\n        getRequest(url).then( resp => {\r\n          if (resp.status == 200){\r\n            this.loading = false;\r\n            this.briefArticles = resp.data.list;\r\n            this.briefArticles.forEach((item,index) => {\r\n              item.createTime = getFormatTime(item.createTime);\r\n            });\r\n            this.pageTotal = resp.data.total;\r\n          }\r\n        }).catch( err =>{\r\n          this.loading = false;\r\n        })\r\n      },\r\n\r\n      handlePageChange(val) {\r\n        this.curPage = val;\r\n        this.getBriefArticles();\r\n      },\r\n\r\n\r\n      changeCondition(condition,name){\r\n        this.$store.commit('changeCondition',{\r\n          condition:condition,\r\n          name:name\r\n        });\r\n      },\r\n\r\n      toArticlePage(articleId){\r\n        this.$store.commit('lookArticle',articleId);\r\n        this.$router.push('/home/articlePage');\r\n      }\r\n\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .brief-article-card {\r\n    box-shadow: 0 3px 12px 0 rgba(0, 0, 0, 0.18);\r\n    background-color: #fff;\r\n    width: 100%;\r\n    border-radius: 18px;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .card-body{\r\n    padding: 25px 30px;\r\n\r\n  }\r\n\r\n\r\n  .pagination {\r\n    margin: 20px 0;\r\n    text-align: center;\r\n  }\r\n\r\n\r\n</style>\r\n"]}]}