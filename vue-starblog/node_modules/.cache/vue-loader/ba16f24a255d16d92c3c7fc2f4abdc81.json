{"remainingRequest":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\view\\home\\homeContent\\home\\BriefArticle.vue?vue&type=style&index=0&id=2151ac68&scoped=true&lang=css&","dependencies":[{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\src\\view\\home\\homeContent\\home\\BriefArticle.vue","mtime":1672399210831},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\css-loader\\dist\\cjs.js","mtime":1672420949353},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1672420953476},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\postcss-loader\\src\\index.js","mtime":1672420950940},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672420947809},{"path":"F:\\Spring Boot\\STAR-BLOG\\vue-starblog\\node_modules\\vue-loader\\lib\\index.js","mtime":1672420951796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5icmllZi1hcnRpY2xlLWNhcmQgewogIGJveC1zaGFkb3c6IDAgM3B4IDEycHggMCByZ2JhKDAsIDAsIDAsIDAuMTgpOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgd2lkdGg6IDEwMCU7CiAgYm9yZGVyLXJhZGl1czogMThweDsKICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9CgouY2FyZC1ib2R5ewogIHBhZGRpbmc6IDI1cHggMzBweDsKCn0KCgoucGFnaW5hdGlvbiB7CiAgbWFyZ2luOiAyMHB4IDA7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgoK"},{"version":3,"sources":["BriefArticle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA","file":"BriefArticle.vue","sourceRoot":"src/view/home/homeContent/home","sourcesContent":["<template>\r\n  <div v-loading=\"loading\">\r\n    <div v-if=\"this.listSearchCondition.condition\" class=\"brief-article-card\">\r\n      <div style=\"padding: 22px 30px\">\r\n        <el-breadcrumb separator=\"/\">\r\n          <el-breadcrumb-item>\r\n            <i class=\"fa fa-caret-right\" style=\"margin-right: 6px\"></i>\r\n            {{this.listSearchCondition.condition == 'tag'? '标签':this.listSearchCondition.condition=='category'?'分类':'用户'}}\r\n          </el-breadcrumb-item>\r\n          <el-breadcrumb-item> {{this.listSearchCondition.name}}</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-for=\"item in briefArticles\" class=\"brief-article-card\">\r\n      <div :index=\"item.index\" :key=\"item.index\" class=\"card-body\">\r\n        <p style=\"font-size: 12px;color: #7a7a7a ;\">\r\n          {{(item.createTime)}}\r\n          <el-button  type=\"text\" style=\"margin:0px 10px;color: #7a7a7a;\"\r\n                      @click=\"changeCondition('category',item.categoryName)\">\r\n            {{item.categoryName}}\r\n          </el-button>\r\n          {{Math.round(item.content.length/160 + 1)}}分钟 读完(大约{{item.content.length}}字)\r\n        </p>\r\n        <el-link   :underline=\"false\" style=\"font-size: 21px;font-weight: 400;\" @click=\"toArticlePage(item.articleId)\">\r\n          {{item.title}}\r\n        </el-link>\r\n        <p style=\"font-size: 16px;color: #4a4a4a ;margin: 20px 0px\">\r\n          {{item.summary}}\r\n        </p>\r\n        <el-button type=\"info\" size=\"mini\" @click=\"toArticlePage(item.articleId)\">\r\n          阅读更多\r\n        </el-button>\r\n        <el-button  type=\"text\" style=\"margin:0px 10px;color: #7a7a7a;\"\r\n                    @click=\"changeCondition(item.userId,item.nickname)\">\r\n          <i class=\"fa fa-user\"></i>\r\n            {{item.nickname}}\r\n        </el-button>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"pagination\">\r\n      <el-pagination\r\n              background\r\n              layout=\"total, prev, pager, next\"\r\n              :current-page=\"curPage\"\r\n              :page-size=\"pageSize\"\r\n              :total=\"pageTotal\"\r\n              @current-change=\"handlePageChange\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { getFormatTime } from '@/utils/timeFormat';\r\n  import { getRequest } from '@/axios';\r\n\r\n  export default {\r\n    name: 'BriefArticle',\r\n    data(){\r\n      return{\r\n        briefArticles:[],\r\n        content:'我是谁',\r\n\r\n        curPage:1,\r\n        pageSize:10,\r\n        pageTotal:0,\r\n        userId:'',\r\n\r\n        loading:false\r\n      }\r\n    },\r\n\r\n\r\n\r\n    computed: {\r\n      listSearchCondition() {\r\n        return this.$store.state.listSearchCondition;\r\n      },\r\n\r\n      hasChanged(){\r\n        return this.listSearchCondition.condition+this.listSearchCondition.name;\r\n      },\r\n\r\n      keyword(){\r\n        return this.$store.state.keyword;\r\n      }\r\n\r\n\r\n    },\r\n\r\n    created() {\r\n      this.getBriefArticles();\r\n    },\r\n\r\n    watch: {\r\n      hasChanged(){\r\n        this.getBriefArticles();\r\n      },\r\n\r\n      keyword(){\r\n        this.getBriefArticles();\r\n      }\r\n    },\r\n\r\n\r\n    methods:{\r\n      getBriefArticles(){\r\n        let condition = this.listSearchCondition.condition;\r\n        let name = this.listSearchCondition.name;\r\n        let url ='';\r\n        if (condition == 'category'){\r\n          url = '/home/category/all?categoryName='+name+'&curPage='+ this.curPage+ '&pageSize='+ this.pageSize;\r\n        }else if (condition == 'tag'){\r\n          url = '/home/tag/all?tagName='+name+'&curPage='+ this.curPage+ '&pageSize='+ this.pageSize;\r\n        }else{\r\n          url = '/home/all/article?status=1&curPage='+ this.curPage+ '&pageSize='+ this.pageSize+'&keyword='+ this.keyword+'&userId='+ condition ;\r\n        }\r\n        this.loading = true;\r\n        getRequest(url).then( resp => {\r\n          if (resp.status == 200){\r\n            this.loading = false;\r\n            this.briefArticles = resp.data.list;\r\n            this.briefArticles.forEach((item,index) => {\r\n              item.createTime = getFormatTime(item.createTime);\r\n            });\r\n            this.pageTotal = resp.data.total;\r\n          }\r\n        }).catch( err =>{\r\n          this.loading = false;\r\n        })\r\n      },\r\n\r\n      handlePageChange(val) {\r\n        this.curPage = val;\r\n        this.getBriefArticles();\r\n      },\r\n\r\n\r\n      changeCondition(condition,name){\r\n        this.$store.commit('changeCondition',{\r\n          condition:condition,\r\n          name:name\r\n        });\r\n      },\r\n\r\n      toArticlePage(articleId){\r\n        this.$store.commit('lookArticle',articleId);\r\n        this.$router.push('/home/articlePage');\r\n      }\r\n\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .brief-article-card {\r\n    box-shadow: 0 3px 12px 0 rgba(0, 0, 0, 0.18);\r\n    background-color: #fff;\r\n    width: 100%;\r\n    border-radius: 18px;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .card-body{\r\n    padding: 25px 30px;\r\n\r\n  }\r\n\r\n\r\n  .pagination {\r\n    margin: 20px 0;\r\n    text-align: center;\r\n  }\r\n\r\n\r\n</style>\r\n"]}]}